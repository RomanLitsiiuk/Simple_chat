"use strict";var iframes=[];function checkFrameCount(){return iframes.length+1}function renderIframe(){var p=0<arguments.length&&void 0!==arguments[0]?arguments[0]:"iFrame".concat(checkFrameCount()),s=createTag("iframe","iframe");s.setAttribute("name","".concat(p)),s.setAttribute("scrolling","no");var u=createTag("link");return u.setAttribute("href","./css/app.min.css"),u.setAttribute("rel","stylesheet"),u.setAttribute("type","text/css"),s.onload=function(){var e=s.contentWindow.document;e.head.appendChild(u);var t=createTag("div","iframe__chat"),a=createTag("h3","iframe__text","iframe__text--heading"),n=createTag("p","iframe__text"),r=createTag("p","iframe__text"),i=createTag("div","iframe__input-wrap"),d=createTag("label","iframe__label"),c=createTag("input","iframe__input");c.setAttribute("type","text");var o=createTag("button","iframe__send");o.setAttribute("type","button"),o.append("send"),a.append("Chat: "),n.append("[system] - iframe1 joined the conversation"),r.append("[iFrame2] - who wants to come play soccer?"),e.body.appendChild(t).appendChild(a),t.appendChild(n),t.appendChild(r),e.body.appendChild(i).appendChild(d),d.append("[".concat(p,"]: ")),d.appendChild(c),i.appendChild(o),iframes.push(s),o.addEventListener("click",function(){s.contentWindow.parent.postMessage("[".concat(p,"] - ").concat(c.value))})},s}function addFrame(e){var t=renderIframe();e.append(t)}function renderPage(){var e=document.querySelector(".button--add"),t=document.querySelector(".chat-frame__field");e.addEventListener("click",function(){addFrame(t)})}document.addEventListener("DOMContentLoaded",function(){renderPage(),window.addEventListener("message",function(e){console.log(e)})});
//# sourceMappingURL=data:application/json;charset=utf8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImpzL21haW4uanMiXSwibmFtZXMiOlsiaWZyYW1lcyIsImNoZWNrRnJhbWVDb3VudCIsImxlbmd0aCIsInJlbmRlcklmcmFtZSIsIm5hbWUiLCJhcmd1bWVudHMiLCJ1bmRlZmluZWQiLCJjb25jYXQiLCJmcmFtZSIsImNyZWF0ZVRhZyIsInNldEF0dHJpYnV0ZSIsImNzc0xpbmsiLCJvbmxvYWQiLCJpZnJhbWVEb2MiLCJjb250ZW50V2luZG93IiwiZG9jdW1lbnQiLCJoZWFkIiwiYXBwZW5kQ2hpbGQiLCJjaGF0IiwiaGVhZGluZyIsInRleHQxIiwidGV4dDIiLCJpbnB1dFdyYXAiLCJsYWJlbCIsImlucHV0Iiwic2VuZCIsImFwcGVuZCIsImJvZHkiLCJwdXNoIiwiYWRkRXZlbnRMaXN0ZW5lciIsInBhcmVudCIsInBvc3RNZXNzYWdlIiwidmFsdWUiLCJhZGRGcmFtZSIsIndyYXBwZXIiLCJyZW5kZXJQYWdlIiwiYWRkQnV0dG9uIiwicXVlcnlTZWxlY3RvciIsIndyYXAiLCJ3aW5kb3ciLCJtZXNzYWdlIiwiY29uc29sZSIsImxvZyJdLCJtYXBwaW5ncyI6IkFBQUEsYUFFQSxJQUFNQSxRQUFVLEdBRWhCLFNBQVNDLGtCQUNQLE9BQU9ELFFBQVFFLE9BQVMsRUFHMUIsU0FBU0MsZUFBa0QsSUFBckNDLEVBQXFDLEVBQUFDLFVBQUFILGFBQUFJLElBQUFELFVBQUEsR0FBQUEsVUFBQSxHQUFBLFNBQUFFLE9BQXJCTixtQkFDOUJPLEVBQVFDLFVBQVUsU0FBVSxVQUNsQ0QsRUFBTUUsYUFBYSxPQUFuQixHQUFBSCxPQUE4QkgsSUFDOUJJLEVBQU1FLGFBQWEsWUFBYSxNQUNoQyxJQUFNQyxFQUFVRixVQUFVLFFBaUMxQixPQWhDQUUsRUFBUUQsYUFBYSxPQUFRLHFCQUM3QkMsRUFBUUQsYUFBYSxNQUFPLGNBQzVCQyxFQUFRRCxhQUFhLE9BQVEsWUFDN0JGLEVBQU1JLE9BQVMsV0FDYixJQUFNQyxFQUFZTCxFQUFNTSxjQUFjQyxTQUN0Q0YsRUFBVUcsS0FBS0MsWUFBWU4sR0FDM0IsSUFBTU8sRUFBT1QsVUFBVSxNQUFPLGdCQUN4QlUsRUFBVVYsVUFBVSxLQUFNLGVBQWdCLHlCQUMxQ1csRUFBUVgsVUFBVSxJQUFLLGdCQUN2QlksRUFBUVosVUFBVSxJQUFLLGdCQUN2QmEsRUFBWWIsVUFBVSxNQUFPLHNCQUM3QmMsRUFBUWQsVUFBVSxRQUFTLGlCQUMzQmUsRUFBUWYsVUFBVSxRQUFTLGlCQUNqQ2UsRUFBTWQsYUFBYSxPQUFRLFFBQzNCLElBQU1lLEVBQU9oQixVQUFVLFNBQVUsZ0JBQ2pDZ0IsRUFBS2YsYUFBYSxPQUFRLFVBQzFCZSxFQUFLQyxPQUFPLFFBQ1pQLEVBQVFPLE9BQU8sVUFDZk4sRUFBTU0sT0FBTyw4Q0FDYkwsRUFBTUssT0FBTyw4Q0FDYmIsRUFBVWMsS0FBS1YsWUFBWUMsR0FBTUQsWUFBWUUsR0FDN0NELEVBQUtELFlBQVlHLEdBQ2pCRixFQUFLRCxZQUFZSSxHQUNqQlIsRUFBVWMsS0FBS1YsWUFBWUssR0FBV0wsWUFBWU0sR0FDbERBLEVBQU1HLE9BQU4sSUFBQW5CLE9BQWlCSCxFQUFqQixRQUNBbUIsRUFBTU4sWUFBWU8sR0FDbEJGLEVBQVVMLFlBQVlRLEdBQ3RCekIsUUFBUTRCLEtBQUtwQixHQUNiaUIsRUFBS0ksaUJBQWlCLFFBQVMsV0FDN0JyQixFQUFNTSxjQUFjZ0IsT0FBT0MsWUFBM0IsSUFBQXhCLE9BQTJDSCxFQUEzQyxRQUFBRyxPQUFzRGlCLEVBQU1RLFdBR3pEeEIsRUFHVCxTQUFTeUIsU0FBU0MsR0FDaEIsSUFBTTFCLEVBQVFMLGVBQ2QrQixFQUFRUixPQUFPbEIsR0FHakIsU0FBUzJCLGFBQ1AsSUFBTUMsRUFBWXJCLFNBQVNzQixjQUFjLGdCQUNuQ0MsRUFBT3ZCLFNBQVNzQixjQUFjLHNCQUNwQ0QsRUFBVVAsaUJBQWlCLFFBQVMsV0FDbENJLFNBQVNLLEtBSWJ2QixTQUFTYyxpQkFBaUIsbUJBQW9CLFdBQzVDTSxhQUNBSSxPQUFPVixpQkFBaUIsVUFBVyxTQUFDVyxHQUNsQ0MsUUFBUUMsSUFBSUYiLCJmaWxlIjoianMvbWFpbi5taW4uanMiLCJzb3VyY2VzQ29udGVudCI6WyIndXNlIHN0cmljdCc7XHJcblxyXG5jb25zdCBpZnJhbWVzID0gW107XHJcblxyXG5mdW5jdGlvbiBjaGVja0ZyYW1lQ291bnQoKSB7XHJcbiAgcmV0dXJuIGlmcmFtZXMubGVuZ3RoICsgMTtcclxufVxyXG5cclxuZnVuY3Rpb24gcmVuZGVySWZyYW1lKG5hbWUgPSBgaUZyYW1lJHtjaGVja0ZyYW1lQ291bnQoKX1gKSB7XHJcbiAgY29uc3QgZnJhbWUgPSBjcmVhdGVUYWcoJ2lmcmFtZScsICdpZnJhbWUnKTtcclxuICBmcmFtZS5zZXRBdHRyaWJ1dGUoJ25hbWUnLCBgJHtuYW1lfWApO1xyXG4gIGZyYW1lLnNldEF0dHJpYnV0ZSgnc2Nyb2xsaW5nJywgJ25vJyk7XHJcbiAgY29uc3QgY3NzTGluayA9IGNyZWF0ZVRhZygnbGluaycpO1xyXG4gIGNzc0xpbmsuc2V0QXR0cmlidXRlKCdocmVmJywgJy4vY3NzL2FwcC5taW4uY3NzJyk7XHJcbiAgY3NzTGluay5zZXRBdHRyaWJ1dGUoJ3JlbCcsICdzdHlsZXNoZWV0Jyk7XHJcbiAgY3NzTGluay5zZXRBdHRyaWJ1dGUoJ3R5cGUnLCAndGV4dC9jc3MnKTtcclxuICBmcmFtZS5vbmxvYWQgPSAoKSA9PiB7XHJcbiAgICBjb25zdCBpZnJhbWVEb2MgPSBmcmFtZS5jb250ZW50V2luZG93LmRvY3VtZW50O1xyXG4gICAgaWZyYW1lRG9jLmhlYWQuYXBwZW5kQ2hpbGQoY3NzTGluayk7XHJcbiAgICBjb25zdCBjaGF0ID0gY3JlYXRlVGFnKCdkaXYnLCAnaWZyYW1lX19jaGF0Jyk7XHJcbiAgICBjb25zdCBoZWFkaW5nID0gY3JlYXRlVGFnKCdoMycsICdpZnJhbWVfX3RleHQnLCAnaWZyYW1lX190ZXh0LS1oZWFkaW5nJyk7XHJcbiAgICBjb25zdCB0ZXh0MSA9IGNyZWF0ZVRhZygncCcsICdpZnJhbWVfX3RleHQnKTtcclxuICAgIGNvbnN0IHRleHQyID0gY3JlYXRlVGFnKCdwJywgJ2lmcmFtZV9fdGV4dCcpO1xyXG4gICAgY29uc3QgaW5wdXRXcmFwID0gY3JlYXRlVGFnKCdkaXYnLCAnaWZyYW1lX19pbnB1dC13cmFwJyk7XHJcbiAgICBjb25zdCBsYWJlbCA9IGNyZWF0ZVRhZygnbGFiZWwnLCAnaWZyYW1lX19sYWJlbCcpO1xyXG4gICAgY29uc3QgaW5wdXQgPSBjcmVhdGVUYWcoJ2lucHV0JywgJ2lmcmFtZV9faW5wdXQnKTtcclxuICAgIGlucHV0LnNldEF0dHJpYnV0ZSgndHlwZScsICd0ZXh0Jyk7XHJcbiAgICBjb25zdCBzZW5kID0gY3JlYXRlVGFnKCdidXR0b24nLCAnaWZyYW1lX19zZW5kJyk7XHJcbiAgICBzZW5kLnNldEF0dHJpYnV0ZSgndHlwZScsICdidXR0b24nKTtcclxuICAgIHNlbmQuYXBwZW5kKCdzZW5kJyk7XHJcbiAgICBoZWFkaW5nLmFwcGVuZCgnQ2hhdDogJyk7XHJcbiAgICB0ZXh0MS5hcHBlbmQoJ1tzeXN0ZW1dIC0gaWZyYW1lMSBqb2luZWQgdGhlIGNvbnZlcnNhdGlvbicpO1xyXG4gICAgdGV4dDIuYXBwZW5kKCdbaUZyYW1lMl0gLSB3aG8gd2FudHMgdG8gY29tZSBwbGF5IHNvY2Nlcj8nKTtcclxuICAgIGlmcmFtZURvYy5ib2R5LmFwcGVuZENoaWxkKGNoYXQpLmFwcGVuZENoaWxkKGhlYWRpbmcpO1xyXG4gICAgY2hhdC5hcHBlbmRDaGlsZCh0ZXh0MSk7XHJcbiAgICBjaGF0LmFwcGVuZENoaWxkKHRleHQyKTtcclxuICAgIGlmcmFtZURvYy5ib2R5LmFwcGVuZENoaWxkKGlucHV0V3JhcCkuYXBwZW5kQ2hpbGQobGFiZWwpO1xyXG4gICAgbGFiZWwuYXBwZW5kKGBbJHtuYW1lfV06IGApO1xyXG4gICAgbGFiZWwuYXBwZW5kQ2hpbGQoaW5wdXQpO1xyXG4gICAgaW5wdXRXcmFwLmFwcGVuZENoaWxkKHNlbmQpO1xyXG4gICAgaWZyYW1lcy5wdXNoKGZyYW1lKTtcclxuICAgIHNlbmQuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCAoKSA9PiB7XHJcbiAgICAgIGZyYW1lLmNvbnRlbnRXaW5kb3cucGFyZW50LnBvc3RNZXNzYWdlKGBbJHtuYW1lfV0gLSAke2lucHV0LnZhbHVlfWApO1xyXG4gICAgfSk7XHJcbiAgfTtcclxuICByZXR1cm4gZnJhbWU7XHJcbn1cclxuXHJcbmZ1bmN0aW9uIGFkZEZyYW1lKHdyYXBwZXIpIHtcclxuICBjb25zdCBmcmFtZSA9IHJlbmRlcklmcmFtZSgpO1xyXG4gIHdyYXBwZXIuYXBwZW5kKGZyYW1lKTtcclxufVxyXG5cclxuZnVuY3Rpb24gcmVuZGVyUGFnZSgpIHtcclxuICBjb25zdCBhZGRCdXR0b24gPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcuYnV0dG9uLS1hZGQnKTtcclxuICBjb25zdCB3cmFwID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLmNoYXQtZnJhbWVfX2ZpZWxkJyk7XHJcbiAgYWRkQnV0dG9uLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgKCkgPT4ge1xyXG4gICAgYWRkRnJhbWUod3JhcCk7XHJcbiAgfSk7XHJcbn1cclxuXHJcbmRvY3VtZW50LmFkZEV2ZW50TGlzdGVuZXIoJ0RPTUNvbnRlbnRMb2FkZWQnLCAoKSA9PiB7XHJcbiAgcmVuZGVyUGFnZSgpO1xyXG4gIHdpbmRvdy5hZGRFdmVudExpc3RlbmVyKCdtZXNzYWdlJywgKG1lc3NhZ2UpID0+IHtcclxuICAgIGNvbnNvbGUubG9nKG1lc3NhZ2UpO1xyXG4gIH0pO1xyXG59KTtcclxuXHJcbiJdfQ==
