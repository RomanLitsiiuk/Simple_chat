"use strict";function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _defineProperties(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function _createClass(e,t,a){return t&&_defineProperties(e.prototype,t),a&&_defineProperties(e,a),e}var IFrame=function(){function a(e,t){_classCallCheck(this,a),this.name=e,this.system=t,this.createTag=createTag,this.frame=this.createTag("iframe","iframe"),this.chat=null,this.isOwnMessage=!1}return _createClass(a,[{key:"clearChat",value:function(){for(;170<+this.chat.offsetHeight;)this.chat.removeChild(this.chat.children[0])}},{key:"listenMessages",value:function(){var a=this;this.system.subscribe("receivedMessage",function(e){var t=a.createTag("p","iframe__text");t.append(e.message),"system"===e.type?t.classList.add("iframe__text--system"):a.isOwnMessage&&(t.classList.add("iframe__text--own"),a.isOwnMessage=!1),a.chat.appendChild(t),a.clearChat()})}},{key:"activateDragable",value:function(e){var a=this;e.ondragstart=function(){return!1},e.onmousedown=function(t){t.target.classList.contains("iframe__input")||t.target.classList.contains("iframe__send")||t.target.classList.contains("iframe__close")||(a.frame.style.left=a.frame.offsetLeft+"px",a.frame.style.top=a.frame.offsetTop+"px",a.frame.classList.add("iframe--drag"),a.frame.style.zIndex=999,a.frame.contentWindow.onmousemove=function(e){a.frame.style.left=parseInt(a.frame.style.left,10)+e.pageX-t.pageX+"px",a.frame.style.top=parseInt(a.frame.style.top,10)+e.pageY-t.pageY+"px"},a.frame.contentWindow.onmouseup=function(){a.frame.contentWindow.onmousemove=null,a.frame.contentWindow.onmouseup=null,a.frame.style.zIndex=100})}}},{key:"renderIframe",value:function(){var f=this;this.frame.setAttribute("name","".concat(this.name)),this.frame.setAttribute("scrolling","no");var l=this.createTag("link");return l.setAttribute("href","./css/app.min.css"),l.setAttribute("rel","stylesheet"),l.setAttribute("type","text/css"),this.frame.onload=function(){var e=f.frame.contentWindow.document;e.head.appendChild(l);var t=f.createTag("div","iframe__chat"),a=f.createTag("div","iframe__close"),n=f.createTag("h3","iframe__text","iframe__text--heading"),s=f.createTag("div","iframe__content");f.chat=s;var i=f.createTag("div","iframe__input-wrap"),r=f.createTag("label","iframe__label"),c=f.createTag("input","iframe__input");c.setAttribute("type","text");var o=f.createTag("button","iframe__send");o.setAttribute("type","button"),o.append("send"),n.append("Chat: "),e.body.appendChild(t).appendChild(n),t.appendChild(s),t.appendChild(a),e.body.appendChild(i).appendChild(r),r.append("[".concat(f.name,"]: ")),r.appendChild(c),i.appendChild(o),o.addEventListener("click",function(){f.frame.contentWindow.parent.postMessage("[".concat(f.name,"] - ").concat(c.value)),f.isOwnMessage=!0}),a.addEventListener("click",function(){f.frame.contentWindow.parent.postMessage({remove:f.name})}),f.activateDragable(e.body)},this.system&&this.listenMessages(),this.frame}}]),a}();
//# sourceMappingURL=data:application/json;charset=utf8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImpzL2lmcmFtZS5qcyJdLCJuYW1lcyI6WyJJRnJhbWUiLCJuYW1lIiwic3lzdGVtIiwiX2NsYXNzQ2FsbENoZWNrIiwidGhpcyIsImNyZWF0ZVRhZyIsImZyYW1lIiwiY2hhdCIsImlzT3duTWVzc2FnZSIsIm9mZnNldEhlaWdodCIsInJlbW92ZUNoaWxkIiwiY2hpbGRyZW4iLCJfdGhpcyIsInN1YnNjcmliZSIsImRhdGEiLCJtZXNzYWdlIiwiYXBwZW5kIiwidHlwZSIsImNsYXNzTGlzdCIsImFkZCIsImFwcGVuZENoaWxkIiwiY2xlYXJDaGF0IiwiZWxlbWVudCIsIl90aGlzMiIsIm9uZHJhZ3N0YXJ0Iiwib25tb3VzZWRvd24iLCJldmVudCIsInRhcmdldCIsImNvbnRhaW5zIiwic3R5bGUiLCJsZWZ0Iiwib2Zmc2V0TGVmdCIsInRvcCIsIm9mZnNldFRvcCIsInpJbmRleCIsImNvbnRlbnRXaW5kb3ciLCJvbm1vdXNlbW92ZSIsImUiLCJwYXJzZUludCIsInBhZ2VYIiwicGFnZVkiLCJvbm1vdXNldXAiLCJfdGhpczMiLCJzZXRBdHRyaWJ1dGUiLCJjb25jYXQiLCJjc3NMaW5rIiwib25sb2FkIiwiaWZyYW1lRG9jIiwiZG9jdW1lbnQiLCJoZWFkIiwiY2xvc2UiLCJoZWFkaW5nIiwibWVzc2FnZXMiLCJpbnB1dFdyYXAiLCJsYWJlbCIsImlucHV0Iiwic2VuZCIsImJvZHkiLCJhZGRFdmVudExpc3RlbmVyIiwicGFyZW50IiwicG9zdE1lc3NhZ2UiLCJ2YWx1ZSIsInJlbW92ZSIsImFjdGl2YXRlRHJhZ2FibGUiLCJsaXN0ZW5NZXNzYWdlcyJdLCJtYXBwaW5ncyI6InVaQUFNQSxrQkFDSixTQUFBQSxFQUFZQyxFQUFNQyxHQUFRQyxnQkFBQUMsS0FBQUosR0FDeEJJLEtBQUtILEtBQU9BLEVBQ1pHLEtBQUtGLE9BQVNBLEVBQ2RFLEtBQUtDLFVBQVlBLFVBQ2pCRCxLQUFLRSxNQUFRRixLQUFLQyxVQUFVLFNBQVUsVUFDdENELEtBQUtHLEtBQU8s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akJILEVBQVVVLEtBQUtyQyxZQUFZaUMsR0FBV2pDLFlBQVlrQyxHQUNsREEsRUFBTXRDLE9BQU4sSUFBQTRCLE9BQWlCRixFQUFLekMsS0FBdEIsUUFDQXFELEVBQU1sQyxZQUFZbUMsR0FDbEJGLEVBQVVqQyxZQUFZb0MsR0FDdEJBLEVBQUtFLGlCQUFpQixRQUFTLFdBQzdCaEIsRUFBS3BDLE1BQU02QixjQUFjd0IsT0FBT0MsWUFBaEMsSUFBQWhCLE9BQWdERixFQUFLekMsS0FBckQsUUFBQTJDLE9BQWdFVyxFQUFNTSxRQUN0RW5CLEVBQUtsQyxjQUFlLElBRXRCMEMsRUFBTVEsaUJBQWlCLFFBQVMsV0FDOUJoQixFQUFLcEMsTUFBTTZCLGNBQWN3QixPQUFPQyxZQUFZLENBQUNFLE9BQVFwQixFQUFLekMsU0FFNUR5QyxFQUFLcUIsaUJBQWlCaEIsRUFBVVUsT0FFOUJyRCxLQUFLRixRQUNQRSxLQUFLNEQsaUJBRUE1RCxLQUFLRSIsImZpbGUiOiJqcy9pZnJhbWUubWluLmpzIiwic291cmNlc0NvbnRlbnQiOlsiY2xhc3MgSUZyYW1lIHtcclxuICBjb25zdHJ1Y3RvcihuYW1lLCBzeXN0ZW0pIHtcclxuICAgIHRoaXMubmFtZSA9IG5hbWU7XHJcbiAgICB0aGlzLnN5c3RlbSA9IHN5c3RlbTtcclxuICAgIHRoaXMuY3JlYXRlVGFnID0gY3JlYXRlVGFnO1xyXG4gICAgdGhpcy5mcmFtZSA9IHRoaXMuY3JlYXRlVGFnKCdpZnJhbWUnLCAnaWZyYW1lJyk7XHJcbiAgICB0aGlzLmNoYXQgPSBudWxsO1xyXG4gICAgdGhpcy5pc093bk1lc3NhZ2UgPSBmYWxzZTtcclxuICB9XHJcblxyXG4gIGNsZWFyQ2hhdCgpIHtcclxuICAgIHdoaWxlICgrdGhpcy5jaGF0Lm9mZnNldEhlaWdodCA+IDE3MCkge1xyXG4gICAgICB0aGlzLmNoYXQucmVtb3ZlQ2hpbGQodGhpcy5jaGF0LmNoaWxkcmVuWzBdKTtcclxuICAgIH1cclxuICB9XHJcblxyXG4gIGxpc3Rlbk1lc3NhZ2VzKCkge1xyXG4gICAgdGhpcy5zeXN0ZW0uc3Vic2NyaWJlKCdyZWNlaXZlZE1lc3NhZ2UnLCAoZGF0YSkgPT4ge1xyXG4gICAgICBjb25zdCBtZXNzYWdlID0gdGhpcy5jcmVhdGVUYWcoJ3AnLCAnaWZyYW1lX190ZXh0Jyk7XHJcbiAgICAgIG1lc3NhZ2UuYXBwZW5kKGRhdGEubWVzc2FnZSk7XHJcbiAgICAgIGlmIChkYXRhLnR5cGUgPT09ICdzeXN0ZW0nKSB7XHJcbiAgICAgICAgbWVzc2FnZS5jbGFzc0xpc3QuYWRkKCdpZnJhbWVfX3RleHQtLXN5c3RlbScpO1xyXG4gICAgICB9IGVsc2UgaWYgKHRoaXMuaXNPd25NZXNzYWdlKSB7XHJcbiAgICAgICAgbWVzc2FnZS5jbGFzc0xpc3QuYWRkKCdpZnJhbWVfX3RleHQtLW93bicpO1xyXG4gICAgICAgIHRoaXMuaXNPd25NZXNzYWdlID0gZmFsc2U7XHJcbiAgICAgIH1cclxuICAgICAgdGhpcy5jaGF0LmFwcGVuZENoaWxkKG1lc3NhZ2UpO1xyXG4gICAgICB0aGlzLmNsZWFyQ2hhdCgpO1xyXG4gICAgfSk7XHJcbiAgfVxyXG5cclxuICBhY3RpdmF0ZURyYWdhYmxlKGVsZW1lbnQpIHtcclxuICAgIGVsZW1lbnQub25kcmFnc3RhcnQgPSAoKSA9PiB7XHJcbiAgICAgIHJldHVybiBmYWxzZTtcclxuICAgIH07XHJcbiAgICBlbGVtZW50Lm9ubW91c2Vkb3duID0gKGV2ZW50KSA9PiB7XHJcbiAgICAgIGlmIChldmVudC50YXJnZXQuY2xhc3NMaXN0LmNvbnRhaW5zKCdpZnJhbWVfX2lucHV0JykgfHxcclxuICAgICAgICBldmVudC50YXJnZXQuY2xhc3NMaXN0LmNvbnRhaW5zKCdpZnJhbWVfX3NlbmQnKSB8fFxyXG4gICAgICAgIGV2ZW50LnRhcmdldC5jbGFzc0xpc3QuY29udGFpbnMoJ2lmcmFtZV9fY2xvc2UnKSkge1xyXG4gICAgICAgIHJldHVybjtcclxuICAgICAgfVxyXG4gICAgICB0aGlzLmZyYW1lLnN0eWxlLmxlZnQgPSB0aGlzLmZyYW1lLm9mZnNldExlZnQgKyAncHgnO1xyXG4gICAgICB0aGlzLmZyYW1lLnN0eWxlLnRvcCA9IHRoaXMuZnJhbWUub2Zmc2V0VG9wICsgJ3B4JztcclxuICAgICAgdGhpcy5mcmFtZS5jbGFzc0xpc3QuYWRkKCdpZnJhbWUtLWRyYWcnKTtcclxuICAgICAgdGhpcy5mcmFtZS5zdHlsZS56SW5kZXggPSA5OTk7XHJcbiAgICAgIHRoaXMuZnJhbWUuY29udGVudFdpbmRvdy5vbm1vdXNlbW92ZSA9IChlKSA9PiB7XHJcbiAgICAgICAgdGhpcy5mcmFtZS5zdHlsZS5sZWZ0ID0gcGFyc2VJbnQodGhpcy5mcmFtZS5zdHlsZS5sZWZ0LCAxMCkgKyBlLnBhZ2VYIC0gZXZlbnQucGFnZVggKyAncHgnO1xyXG4gICAgICAgIHRoaXMuZnJhbWUuc3R5bGUudG9wID0gcGFyc2VJbnQodGhpcy5mcmFtZS5zdHlsZS50b3AsIDEwKSArIGUucGFnZVkgLSBldmVudC5wYWdlWSArICdweCc7XHJcbiAgICAgIH07XHJcbiAgICAgIHRoaXMuZnJhbWUuY29udGVudFdpbmRvdy5vbm1vdXNldXAgPSAoKSA9PiB7XHJcbiAgICAgICAgdGhpcy5mcmFtZS5jb250ZW50V2luZG93Lm9ubW91c2Vtb3ZlID0gbnVsbDtcclxuICAgICAgICB0aGlzLmZyYW1lLmNvbnRlbnRXaW5kb3cub25tb3VzZXVwID0gbnVsbDtcclxuICAgICAgICB0aGlzLmZyYW1lLnN0eWxlLnpJbmRleCA9IDEwMDtcclxuICAgICAgfTtcclxuICAgIH07XHJcbiAgfVxyXG5cclxuICByZW5kZXJJZnJhbWUoKSB7XHJcbiAgICB0aGlzLmZyYW1lLnNldEF0dHJpYnV0ZSgnbmFtZScsIGAke3RoaXMubmFtZX1gKTtcclxuICAgIHRoaXMuZnJhbWUuc2V0QXR0cmlidXRlKCdzY3JvbGxpbmcnLCAnbm8nKTtcclxuICAgIGNvbnN0IGNzc0xpbmsgPSB0aGlzLmNyZWF0ZVRhZygnbGluaycpO1xyXG4gICAgY3NzTGluay5zZXRBdHRyaWJ1dGUoJ2hyZWYnLCAnLi9jc3MvYXBwLm1pbi5jc3MnKTtcclxuICAgIGNzc0xpbmsuc2V0QXR0cmlidXRlKCdyZWwnLCAnc3R5bGVzaGVldCcpO1xyXG4gICAgY3NzTGluay5zZXRBdHRyaWJ1dGUoJ3R5cGUnLCAndGV4dC9jc3MnKTtcclxuICAgIHRoaXMuZnJhbWUub25sb2FkID0gKCkgPT4ge1xyXG4gICAgICBjb25zdCBpZnJhbWVEb2MgPSB0aGlzLmZyYW1lLmNvbnRlbnRXaW5kb3cuZG9jdW1lbnQ7XHJcbiAgICAgIGlmcmFtZURvYy5oZWFkLmFwcGVuZENoaWxkKGNzc0xpbmspO1xyXG4gICAgICBjb25zdCBjaGF0ID0gdGhpcy5jcmVhdGVUYWcoJ2RpdicsICdpZnJhbWVfX2NoYXQnKTtcclxuICAgICAgY29uc3QgY2xvc2UgPSB0aGlzLmNyZWF0ZVRhZygnZGl2JywgJ2lmcmFtZV9fY2xvc2UnKTtcclxuICAgICAgY29uc3QgaGVhZGluZyA9IHRoaXMuY3JlYXRlVGFnKCdoMycsICdpZnJhbWVfX3RleHQnLCAnaWZyYW1lX190ZXh0LS1oZWFkaW5nJyk7XHJcbiAgICAgIGNvbnN0IG1lc3NhZ2VzID0gdGhpcy5jcmVhdGVUYWcoJ2RpdicsICdpZnJhbWVfX2NvbnRlbnQnKTtcclxuICAgICAgdGhpcy5jaGF0ID0gbWVzc2FnZXM7XHJcbiAgICAgIGNvbnN0IGlucHV0V3JhcCA9IHRoaXMuY3JlYXRlVGFnKCdkaXYnLCAnaWZyYW1lX19pbnB1dC13cmFwJyk7XHJcbiAgICAgIGNvbnN0IGxhYmVsID0gdGhpcy5jcmVhdGVUYWcoJ2xhYmVsJywgJ2lmcmFtZV9fbGFiZWwnKTtcclxuICAgICAgY29uc3QgaW5wdXQgPSB0aGlzLmNyZWF0ZVRhZygnaW5wdXQnLCAnaWZyYW1lX19pbnB1dCcpO1xyXG4gICAgICBpbnB1dC5zZXRBdHRyaWJ1dGUoJ3R5cGUnLCAndGV4dCcpO1xyXG4gICAgICBjb25zdCBzZW5kID0gdGhpcy5jcmVhdGVUYWcoJ2J1dHRvbicsICdpZnJhbWVfX3NlbmQnKTtcclxuICAgICAgc2VuZC5zZXRBdHRyaWJ1dGUoJ3R5cGUnLCAnYnV0dG9uJyk7XHJcbiAgICAgIHNlbmQuYXBwZW5kKCdzZW5kJyk7XHJcbiAgICAgIGhlYWRpbmcuYXBwZW5kKCdDaGF0OiAnKTtcclxuICAgICAgaWZyYW1lRG9jLmJvZHkuYXBwZW5kQ2hpbGQoY2hhdCkuYXBwZW5kQ2hpbGQoaGVhZGluZyk7XHJcbiAgICAgIGNoYXQuYXBwZW5kQ2hpbGQobWVzc2FnZXMpO1xyXG4gICAgICBjaGF0LmFwcGVuZENoaWxkKGNsb3NlKTtcclxuICAgICAgaWZyYW1lRG9jLmJvZHkuYXBwZW5kQ2hpbGQoaW5wdXRXcmFwKS5hcHBlbmRDaGlsZChsYWJlbCk7XHJcbiAgICAgIGxhYmVsLmFwcGVuZChgWyR7dGhpcy5uYW1lfV06IGApO1xyXG4gICAgICBsYWJlbC5hcHBlbmRDaGlsZChpbnB1dCk7XHJcbiAgICAgIGlucHV0V3JhcC5hcHBlbmRDaGlsZChzZW5kKTtcclxuICAgICAgc2VuZC5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsICgpID0+IHtcclxuICAgICAgICB0aGlzLmZyYW1lLmNvbnRlbnRXaW5kb3cucGFyZW50LnBvc3RNZXNzYWdlKGBbJHt0aGlzLm5hbWV9XSAtICR7aW5wdXQudmFsdWV9YCk7XHJcbiAgICAgICAgdGhpcy5pc093bk1lc3NhZ2UgPSB0cnVlO1xyXG4gICAgICB9KTtcclxuICAgICAgY2xvc2UuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCAoKSA9PiB7XHJcbiAgICAgICAgdGhpcy5mcmFtZS5jb250ZW50V2luZG93LnBhcmVudC5wb3N0TWVzc2FnZSh7cmVtb3ZlOiB0aGlzLm5hbWV9KTtcclxuICAgICAgfSk7XHJcbiAgICAgIHRoaXMuYWN0aXZhdGVEcmFnYWJsZShpZnJhbWVEb2MuYm9keSk7XHJcbiAgICB9O1xyXG4gICAgaWYgKHRoaXMuc3lzdGVtKSB7XHJcbiAgICAgIHRoaXMubGlzdGVuTWVzc2FnZXMoKTtcclxuICAgIH1cclxuICAgIHJldHVybiB0aGlzLmZyYW1lO1xyXG4gIH1cclxufVxyXG4iXX0=
